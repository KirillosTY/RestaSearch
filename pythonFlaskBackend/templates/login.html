{% extends "layout.html" %}

{% block headline %}<h2 class="default-title">Kirjautuminen</h2>{% endblock %}

{% block content %}

<div class="form-group-login">

<form  class="form-group-login" action="/login" method="POST" onsubmit="return check(this)">
  <div class="form-group">
    <label for="username">Käyttäjätunnus:</label>
    <input type="username" name="username" class="form-control" id="username" aria-describedby="username">
  </div>
  <div class="form-group">
    <label for="password">Salasana:</label>
    <input type="password" name="password" class="form-control" id="password" aria-describedby="password_help">
    <small id="password_help" class="form-text text-muted">Salasanan tulee olla vähintään 8 merkkiä pitkä sekä sen pitää sisältää 1 pieni ja iso kirjain sekä yksi numero</small>

  </div>
  <input type="submit" class="btn btn-primary" value="Kirjaudu">
  <a class="access_link" href="/create">Luo uusi käyttäjä</a>
</div>
  </form>
  </div>
  </div>
<script>
  function check(form) {
    console.log(!form.passwordmatch(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/))
      if (form.username.value.length >= 16 || form.username.value.length <= 4) {
          alert("Käyttäjätunnuksen tulee olla 4-16 merkkiä pitkä");
          return false;
      }
      if (form.password.value.length < 8 || !form.password.match(/^(Arvio:"+rating *"&#9733;"?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d]{8,}$/)) {
          alert("Salasanan tulee olla vähintään 8 merkkiä pitkä sekä sen pitää sisältää 1 pieni ja iso kirjain sekä yksi numero");
          return false;
      }

      return true;
  }
  </script>


{% endblock %}